### RMI简介

**RMI(Remote Method Invocation,远程方法调用)**是java提供的分布式应用之间的协同调用能力，利用网络通讯，利用java的方式，实现分布式引用之间的通讯交互。

### 整体交互流程

（自己画的详细一点的）

![](D:\UML\spring\流程图\RMI\RMI远程调用执行流程.png)

（网络参考图）

![](D:\UML\spring\流程图\RMI\RMI执行流程-网络参考图.png)

### 实现前的思考

（1）第一分布式应用必然涉及到网络通讯，第一个关键点**网络**

（2）数据在分布式应用直接数据如何传输与解析 第二个关键点**协议**

（3）如何是客户端获取到服务端可用的远程对象，第三个关键点**注册中心**

### java-RMI代码分析

#### （1）rmi代码目录

![1625979495790](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\1625979495790.png)

基本上按 **日志、注册中心、运行时工具、服务端实现、网络通讯协议**来分开。

#### （2）网络通讯编程中的概念

**通道 Channel**:用于创建网络链接，释放网络链接，获取通讯端点信息，（创建连接的时候需要直接向服务端发送协议头信息，**主要客户端使用**）。

**链接Connection**：封装了网络通讯（Socket）中的输入输出流，对流的操作，如获取、关闭流。**主要客户端使用**）。

**协议Transport** ：处理网络数据流的核心组件，负责解析网络数据流，执行特定的方法，将jvm中的java对象装换成网络数据流返回给客户端（**主要服务端使用**）。

